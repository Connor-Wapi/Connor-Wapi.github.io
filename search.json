[{"categories":["Unity"],"content":"이 글은 Windows를 기준으로 작성되었습니다. 하지만 Mac이나 기타 운영체제에서도 sdkmanager를 같은 방식으로 실행시키면 됩니다.\n 최근에 구글 플레이 정책이 바뀌면서 8월부터는 Android SDK의 Target API Level이 29 이상이어야 앱을 구글 플레이 콘솔에 올릴 수 있게 되었다.\n유니티 에디터에서 Target API Level 29 또는 30을 선택하여 빌드를 돌려보면 해당 버전이 설치되어있지 않다고 업데이트를 요구하지만…   막상 업데이트를 누르면 다음과 같은 에러가 뜬다.   이는 SDK 버전 업데이트를 담당하는 SDK manager가 업데이트를 위해 관리자 권한을 필요로하기 때문인데, 유니티를 관리자 권한으로 실행한다고 해결되지는 않고 SDK manager를 직접 찾아서 관리자 권한으로 업데이트를 실행시켜줘야 한다.\n유니티 자체를 관리자 권한으로 실행시켜주면 바로 된다는 사람도 있는데 이렇게 되면 해피한 거고 나는 안돼서 이 방법으로 처리했다.\n유니티 에디터에서 Edit \u003e Preferences \u003e External Tools에 들어가보면 현재 유니티가 사용하고있는 Android SDK Tools의 경로를 찾을 수 있다.   유니티 허브로 설치했으면 유니티 허브, 따로 설치했으면 해당 폴더 내부의 경로가 있을 것이다. 여기서 tools \u003e bin을 열어보면 우리가 필요한 sdkmanager.bat파일이 있다.   하지만 여기서 바로 실행시키는 건 아니고, Windows PowerShell을 관리자 권한으로 실행해서 접근해야한다. Windows + x키를 눌러 Windows PowerShell(관리자) 를 실행시킨다.   PowerShell을 열었으면 유니티에서 Android SDK의 경로를 복사한 뒤, 뒤에 /tools/bin을 붙여 폴더를 PowerShell에서 열어주자. 아래의 명령어를 치면 된다.\ncd \"[복사한 경로]/tools/bin\"\r내 기준으로는\ncd \"C:/Program Files/Unity/Hub/Editor/2019.3.10f1/Editor/Data/PlaybackEngines/AndroidPlayer\\SDK/tools/bin\"\r이라고 입력했다. 경로 중간에 띄어쓰기가 없으면 큰따옴표를 생략해도 되지만, 윈도우에서는 대부분 Program Files때문에 띄어쓰기가 있을테니 반드시 큰따옴표를 쳐주자.   PowerShell에서 폴더를 연 후에 ./sdkmanager --list를 입력해 sdkmanager가 정상적으로 작동하는지 확인할 수 있다.\n만약 이때 Java관련 에러가 뜨면서 sdkmanager가 실행되지 않는다면 Java 버전에 문제가 있는 것인데, 시스템 환경 변수 편집으로 들어가서 JAVA_HOME을 유니티 허브에서 설치한 제공하는 OpenJDK의 경로로 변경해주면 된다. Java 환경 변수 설정 관련은 글이 너무 길어지니까 여기선 생략.\n이제 다 왔다. ./sdkmanager \"platform-tools\" \"platforms;android-29\" \"build-tools;29.0.3\"을 입력하면 무언가 동의하냐는 문서가 출력되고, 어차피 우리에게 선택권이 없으니 y를 눌러 동의하면 필요한 파일들이 모두 설치된다.   어차피 개발자는 거절할 권리가 없다.\n  PowerShell을 관리자 권한으로 실행하지 않았다면 여기서 오류가 나며 막힐텐데, 관리자 권한으로 다시 실행해주면 된다.\n이렇게 설치를 완료하면 유니티에서 Target API Level을 29로 설정하고 빌드해도 군말없이 잘 돌아간다! 특이사항이 없어서 스크린샷은 생략.\n","description":"","tags":["unity","build","android"],"title":"[Unity] 유니티 안드로이드 Target API Level 29 설정하기","uri":"/posts/api29/"}]
